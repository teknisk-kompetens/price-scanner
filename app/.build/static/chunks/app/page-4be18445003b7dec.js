(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8819:function(e,t,s){Promise.resolve().then(s.bind(s,1255))},1255:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return K}});var r=s(5444),a=s(9300),i=s(2422),n=s(9559),l=s(3691),c=s(3594);let o=null,d=!1;function m({onScan:e,isActive:t,onToggle:m}){let u=(0,a.useRef)(null),[x,h]=(0,a.useState)(!1),[p,g]=(0,a.useState)(null),[f,b]=(0,a.useState)(!1),[j,v]=(0,a.useState)(!1);(0,a.useEffect)(()=>{v(!0)},[]),(0,a.useEffect)(()=>{j&&!d?s.e(832).then(s.t.bind(s,4832,23)).then(e=>{o=e.default||e,d=!0,b(!0)}).catch(e=>{console.error("Failed to load Quagga:",e),g("Kunde inte ladda scanner-biblioteket.")}):j&&d&&b(!0)},[j]),(0,a.useEffect)(()=>(t&&f&&u?.current?N():!t&&f&&w(),()=>{f&&w()}),[t,f]);let N=(0,a.useCallback)(async()=>{if(!u?.current||!o||!f){console.error("Scanner prerequisites not met:",{ref:!!u?.current,quagga:!!o,ready:f});return}h(!0),g(null);try{let t=u.current;if(!t)throw Error("Scanner target element not found");try{o?.stop&&o.stop(),o?.offDetected&&o.offDetected()}catch(e){console.warn("Error during cleanup:",e)}let s={inputStream:{name:"Live",type:"LiveStream",target:t,constraints:{width:{min:320,ideal:640,max:1280},height:{min:240,ideal:480,max:720},facingMode:"environment",aspectRatio:{min:1,max:2}}},locator:{patchSize:"medium",halfSample:!0},numOfWorkers:navigator.hardwareConcurrency||4,decoder:{readers:["ean_reader","ean_8_reader","code_128_reader","code_39_reader","codabar_reader","i2of5_reader"],debug:{drawBoundingBox:!1,showFrequency:!1,drawScanline:!1,showPattern:!1}},locate:!0};if(await new Promise((e,t)=>{if(!o?.init){t(Error("Quagga.init is not available"));return}o.init(s,s=>{if(s){console.error("Quagga init error:",s),"NotAllowedError"===s.name?t(Error("Kamera-\xe5tkomst nekad. Kontrollera webbl\xe4sarinst\xe4llningar.")):"NotFoundError"===s.name?t(Error("Ingen kamera hittades p\xe5 enheten.")):"NotSupportedError"===s.name?t(Error("Kameran st\xf6ds inte av webbl\xe4saren.")):t(Error(`Kamerafel: ${s.message||"Ok\xe4nt fel"}`));return}e()})}),!o?.start)throw Error("Quagga.start is not available");o.start(),o?.onDetected&&o.onDetected(t=>{try{let s=t?.codeResult?.code;s&&"string"==typeof s&&s.length>0&&(console.log("Barcode detected:",s),e(s))}catch(e){console.error("Error processing barcode detection:",e)}}),h(!1)}catch(e){console.error("Scanner initialization failed:",e),g(e.message||"Kunde inte aktivera kameran. Kontrollera att du har gett tillst\xe5nd."),h(!1)}},[e,f]),w=(0,a.useCallback)(()=>{try{o?.stop&&o.stop(),o?.offDetected&&o.offDetected()}catch(e){console.warn("Error stopping scanner:",e)}},[]),y=(0,a.useCallback)(()=>{w(),g(null),t&&f&&setTimeout(N,200)},[t,f,N,w]);return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(i.z,{onClick:m,variant:t?"destructive":"default",size:"lg",className:"flex-1 mr-2",disabled:!f&&!t,children:t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.Z,{className:"w-5 h-5 mr-2"}),"St\xe4ng Scanner"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Z,{className:"w-5 h-5 mr-2"}),j&&f?"Starta Scanner":"Laddar scanner..."]})}),t&&(0,r.jsx)(i.z,{onClick:y,variant:"outline",size:"lg",children:(0,r.jsx)(c.Z,{className:"w-5 h-5"})})]}),t&&(0,r.jsxs)("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[(0,r.jsx)("div",{ref:u,className:"w-full h-64 flex items-center justify-center",children:x&&(0,r.jsxs)("div",{className:"text-white text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-2"}),(0,r.jsx)("p",{children:"Startar kamera..."}),!f&&(0,r.jsx)("p",{className:"text-xs mt-1 opacity-75",children:"Laddar scanner-bibliotek..."})]})}),p&&(0,r.jsx)("div",{className:"absolute inset-0 bg-red-900/90 flex items-center justify-center text-white text-center p-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:p}),(0,r.jsx)(i.z,{onClick:y,variant:"outline",size:"sm",className:"mt-2",children:"F\xf6rs\xf6k igen"})]})}),t&&!p&&!x&&f&&(0,r.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[(0,r.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:(0,r.jsx)("div",{className:"w-64 h-1 bg-red-500 shadow-lg shadow-red-500/50 animate-pulse"})}),(0,r.jsx)("div",{className:"absolute top-4 left-4 right-4 text-center text-white text-xs bg-black/50 rounded-lg p-2",children:"\uD83D\uDD0D Scanner aktiv - Rikta kameran mot streckkoden"}),(0,r.jsx)("div",{className:"absolute bottom-4 left-4 right-4 text-center text-white text-sm",children:"H\xe5ll enheten stadigt f\xf6r b\xe4sta resultat"})]})]})]})}var u=s(9827),x=s(1335),h=s(6629),p=s(4907),g=s(9201),f=s(3394),b=s(8001);function j({product:e,prices:t,onNewScan:s}){if(!e||0===t.length)return null;let a=[...t].sort((e,t)=>e.price+(e.shipping||0)-(t.price+(t.shipping||0))),n=a[0],l=n.price+(n.shipping||0),c=e=>{switch(e){case"in_stock":return(0,r.jsx)(x.C,{className:"bg-green-500",children:"I lager"});case"limited":return(0,r.jsx)(x.C,{className:"bg-yellow-500",children:"Begr\xe4nsat"});case"out_of_stock":return(0,r.jsx)(x.C,{variant:"destructive",children:"Sluts\xe5ld"});default:return(0,r.jsx)(x.C,{variant:"secondary",children:"Ok\xe4nd"})}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(u.Zb,{children:[(0,r.jsx)(u.Ol,{children:(0,r.jsxs)(u.ll,{className:"flex items-center gap-3",children:[(0,r.jsx)(h.Z,{className:"w-5 h-5 text-blue-500"}),"Produktinformation"]})}),(0,r.jsx)(u.aY,{children:(0,r.jsxs)("div",{className:"flex gap-4",children:[e.image&&(0,r.jsx)("div",{className:"relative w-20 h-20 bg-gray-200 rounded-md overflow-hidden flex-shrink-0",children:(0,r.jsx)(b.default,{src:e.image,alt:e.title,fill:!0,className:"object-cover"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:e.title}),e.author&&(0,r.jsxs)("p",{className:"text-gray-600",children:["Av: ",e.author]}),e.artist&&(0,r.jsxs)("p",{className:"text-gray-600",children:["Artist: ",e.artist]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["ISBN: ",e.isbn]}),(0,r.jsx)(x.C,{variant:"outline",className:"mt-2",children:"book"===e.type?"Bok":"music"===e.type?"Musik":"Ok\xe4nd"})]})]})})]}),(0,r.jsxs)(u.Zb,{children:[(0,r.jsx)(u.Ol,{children:(0,r.jsxs)(u.ll,{className:"flex items-center gap-3",children:[(0,r.jsx)(p.Z,{className:"w-5 h-5 text-green-500"}),"Prisj\xe4mf\xf6relse"]})}),(0,r.jsx)(u.aY,{children:(0,r.jsx)("div",{className:"space-y-3",children:a.map((e,t)=>{let s=e.price+(e.shipping||0),a=0===t;return(0,r.jsxs)("div",{className:`p-4 rounded-lg border-2 transition-all ${a?"border-green-500 bg-green-50 shadow-md":"border-gray-200 bg-white hover:border-gray-300"}`,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)("h4",{className:"font-semibold text-lg",children:e.site}),a&&(0,r.jsx)(x.C,{className:"bg-green-500",children:"L\xe4gst pris!"}),c(e.availability)]}),(0,r.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,r.jsxs)("span",{children:["Pris: ",e.price," ",e.currency]}),(e.shipping??0)>0&&(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)(g.Z,{className:"w-4 h-4"}),"Frakt: ",e.shipping," ",e.currency]})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("div",{className:`text-2xl font-bold ${a?"text-green-700":"text-gray-900"}`,children:[s," ",e.currency]}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:"Totalt inkl. frakt"})]})]}),(0,r.jsxs)(i.z,{className:"w-full mt-3",size:"sm",variant:a?"default":"outline",children:[(0,r.jsx)(f.Z,{className:"w-4 h-4 mr-2"}),"G\xe5 till ",e.site]})]},`${e.site}-${t}`)})})})]}),(0,r.jsx)(u.Zb,{className:"bg-blue-50 border-blue-200",children:(0,r.jsx)(u.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("p",{className:"text-lg",children:[(0,r.jsx)("span",{className:"font-semibold text-blue-700",children:n.site})," har l\xe4gst pris:"]}),(0,r.jsxs)("p",{className:"text-3xl font-bold text-blue-900 mt-1",children:[l," SEK"]}),(0,r.jsxs)("p",{className:"text-sm text-blue-600 mt-1",children:["Spara upp till ",Math.max(...a.map(e=>e.price+(e.shipping||0)))-l," SEK"]})]})})}),(0,r.jsx)(i.z,{onClick:s,size:"lg",className:"w-full bg-blue-600 hover:bg-blue-700",children:"Scanna n\xe4sta produkt"})]})}var v=s(1410),N=s(563);function w({history:e,onClearHistory:t,onRescanProduct:s}){let[n,l]=(0,a.useState)(!1);if(0===e.length)return null;let o=n?e:e.slice(0,3);return(0,r.jsxs)(u.Zb,{children:[(0,r.jsx)(u.Ol,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(u.ll,{className:"flex items-center gap-3",children:[(0,r.jsx)(v.Z,{className:"w-5 h-5 text-purple-500"}),"Scanningshistorik (",e.length,")"]}),(0,r.jsxs)(i.z,{onClick:t,variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",children:[(0,r.jsx)(N.Z,{className:"w-4 h-4 mr-1"}),"Rensa"]})]})}),(0,r.jsx)(u.aY,{children:(0,r.jsxs)("div",{className:"space-y-3",children:[o.map(e=>(0,r.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border hover:border-gray-300 transition-colors",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h4",{className:"font-medium",children:e.product.title}),e.product.author&&(0,r.jsx)("p",{className:"text-sm text-gray-600",children:e.product.author}),e.product.artist&&(0,r.jsx)("p",{className:"text-sm text-gray-600",children:e.product.artist}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,r.jsx)(x.C,{variant:"outline",className:"text-xs",children:"book"===e.product.type?"Bok":"Musik"}),(0,r.jsx)("span",{className:"text-xs text-gray-500",children:e.timestamp.toLocaleTimeString("sv-SE",{hour:"2-digit",minute:"2-digit"})})]}),(0,r.jsxs)("p",{className:"text-sm font-medium text-green-600 mt-1",children:["L\xe4gst: ",e.lowestPrice," SEK (",e.lowestSite,")"]})]}),(0,r.jsx)(i.z,{onClick:()=>s(e.product),variant:"outline",size:"sm",className:"ml-2",children:(0,r.jsx)(c.Z,{className:"w-4 h-4"})})]})},e.id)),e.length>3&&(0,r.jsx)(i.z,{onClick:()=>l(!n),variant:"ghost",size:"sm",className:"w-full",children:n?"Visa f\xe4rre":`Visa ${e.length-3} till`})]})})]})}var y=s(5181),k=s(3485),S=s(6584);function E(){let[e,t]=(0,a.useState)(null),[s,n]=(0,a.useState)(!1),[l,c]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(()=>{if(window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone){c(!0);return}})();let e=e=>{e.preventDefault(),t(e),setTimeout(()=>{n(!0)},3e3)},s=()=>{c(!0),n(!1),t(null)};return window.addEventListener("beforeinstallprompt",e),window.addEventListener("appinstalled",s),()=>{window.removeEventListener("beforeinstallprompt",e),window.removeEventListener("appinstalled",s)}},[]);let o=async()=>{if(e)try{await e.prompt();let t=await e.userChoice;"accepted"===t.outcome?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt")}catch(e){console.error("Error showing install prompt:",e)}finally{t(null),n(!1)}},d=()=>{n(!1),localStorage.setItem("pwa-install-dismissed",Date.now().toString())};return((0,a.useEffect)(()=>{let e=localStorage.getItem("pwa-install-dismissed");if(e){let t=parseInt(e);Date.now()-t<864e5&&n(!1)}},[]),!l&&s&&e)?(0,r.jsx)("div",{className:"fixed bottom-4 left-4 right-4 z-50 md:left-auto md:right-4 md:w-80",children:(0,r.jsx)(u.Zb,{className:"bg-white shadow-lg border-2 border-blue-200 animate-in slide-in-from-bottom-2",children:(0,r.jsxs)(u.aY,{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:(0,r.jsx)(y.Z,{className:"w-4 h-4 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900",children:"Installera appen"}),(0,r.jsx)("p",{className:"text-xs text-gray-600",children:"F\xf6r b\xe4ttre upplevelse"})]})]}),(0,r.jsx)(i.z,{variant:"ghost",size:"sm",onClick:d,className:"h-8 w-8 p-0 text-gray-400 hover:text-gray-600",children:(0,r.jsx)(k.Z,{className:"w-4 h-4"})})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"L\xe4gg till PriceScanner p\xe5 din hemsk\xe4rm f\xf6r snabbare \xe5tkomst och b\xe4ttre prestanda."}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(i.z,{onClick:o,className:"flex-1",size:"sm",children:[(0,r.jsx)(S.Z,{className:"w-4 h-4 mr-2"}),"Installera"]}),(0,r.jsx)(i.z,{variant:"outline",onClick:d,size:"sm",children:"Inte nu"})]})]})})}):null}var C=s(1471);function _(){let[e,t]=(0,a.useState)(!1),[s,n]=(0,a.useState)(null);return((0,a.useEffect)(()=>{"serviceWorker"in navigator&&(navigator.serviceWorker.addEventListener("controllerchange",()=>{window.location.reload()}),navigator.serviceWorker.getRegistration().then(e=>{e&&(e.addEventListener("updatefound",()=>{let s=e.installing;s&&s.addEventListener("statechange",()=>{"installed"===s.state&&navigator.serviceWorker.controller&&(n(s),t(!0))})}),e.waiting&&(n(e.waiting),t(!0)))}))},[]),e)?(0,r.jsx)("div",{className:"fixed top-4 left-4 right-4 z-50 md:left-auto md:right-4 md:w-80",children:(0,r.jsx)(u.Zb,{className:"bg-white shadow-lg border-2 border-green-200 animate-in slide-in-from-top-2",children:(0,r.jsxs)(u.aY,{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-green-600 rounded-lg flex items-center justify-center",children:(0,r.jsx)(C.Z,{className:"w-4 h-4 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900",children:"Uppdatering tillg\xe4nglig"}),(0,r.jsx)("p",{className:"text-xs text-gray-600",children:"Ny version redo"})]})]}),(0,r.jsx)(i.z,{variant:"ghost",size:"sm",onClick:()=>t(!1),className:"h-8 w-8 p-0 text-gray-400 hover:text-gray-600",children:(0,r.jsx)(k.Z,{className:"w-4 h-4"})})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"En ny version av appen \xe4r tillg\xe4nglig med f\xf6rb\xe4ttringar och buggfixar."}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(i.z,{onClick:()=>{s&&(s.postMessage({type:"SKIP_WAITING"}),t(!1))},className:"flex-1",size:"sm",children:[(0,r.jsx)(C.Z,{className:"w-4 h-4 mr-2"}),"Uppdatera nu"]}),(0,r.jsx)(i.z,{variant:"outline",onClick:()=>t(!1),size:"sm",children:"Senare"})]})]})})}):null}let z={"9780545010221":{isbn:"9780545010221",title:"Harry Potter and the Deathly Hallows",author:"J.K. Rowling",type:"book",image:"https://i.pinimg.com/originals/e7/08/69/e708697043f1a3b4d2d242c9f554f24e.jpg"},"9789113121475":{isbn:"9789113121475",title:"Millennium Trilogin",author:"Stieg Larsson",type:"book",image:"https://img.freepik.com/premium-photo/book-representing-literature-reading_87543-56629.jpg"},"602537154593":{isbn:"602537154593",title:"Abbey Road",artist:"The Beatles",type:"music",image:"https://i.pinimg.com/originals/e9/ce/fc/e9cefc3049a7362308a53e36b921d7cf.jpg"},"886979578524":{isbn:"886979578524",title:"Random Access Memories",artist:"Daft Punk",type:"music",image:"https://i.pinimg.com/originals/c6/13/af/c613afac9a4a1ed8279cebda40708fbb.png"}},D={"9780545010221":[{site:"Bokus",price:149,currency:"SEK",availability:"in_stock",url:"#",shipping:0},{site:"Adlibris",price:142,currency:"SEK",availability:"in_stock",url:"#",shipping:29},{site:"Bokborsen",price:89,currency:"SEK",availability:"limited",url:"#",shipping:39}],"9789113121475":[{site:"Bokus",price:299,currency:"SEK",availability:"in_stock",url:"#",shipping:0},{site:"Adlibris",price:279,currency:"SEK",availability:"in_stock",url:"#",shipping:29},{site:"Bokborsen",price:199,currency:"SEK",availability:"in_stock",url:"#",shipping:39}],"602537154593":[{site:"Discogs",price:245,currency:"SEK",availability:"limited",url:"#",shipping:49},{site:"Tradera",price:189,currency:"SEK",availability:"in_stock",url:"#",shipping:59}],"886979578524":[{site:"Discogs",price:320,currency:"SEK",availability:"in_stock",url:"#",shipping:49},{site:"Tradera",price:275,currency:"SEK",availability:"limited",url:"#",shipping:59}]};var T=s(6570),Z=s(9621),A=s(4460),L=s(8218),O=s(8967),I=s(5854);function K(){let[e,t]=(0,a.useState)(!1),[s,i]=(0,a.useState)(null),[n,l]=(0,a.useState)([]),[c,o]=(0,a.useState)([]),{toast:d}=(0,I.pm)(),{isOnline:h,isInstalled:p}=function(){let[e,t]=(0,a.useState)(!1),[s,r]=(0,a.useState)(!1),[i,n]=(0,a.useState)(null),[l,c]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let e=()=>{c(navigator.onLine)};window.addEventListener("online",e),window.addEventListener("offline",e),(()=>{let e=window.matchMedia("(display-mode: standalone)").matches,t=!0===window.navigator.standalone;r(e||t)})();let s=e=>{e.preventDefault(),n(e),t(!0)},a=()=>{r(!0),t(!1),n(null)};return window.addEventListener("beforeinstallprompt",s),window.addEventListener("appinstalled",a),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",e),window.removeEventListener("beforeinstallprompt",s),window.removeEventListener("appinstalled",a)}},[]),{isInstallable:e,isInstalled:s,isOnline:l,installApp:async()=>{if(!i)return!1;try{await i.prompt();let e=await i.userChoice;return n(null),t(!1),"accepted"===e.outcome}catch(e){return console.error("Error installing PWA:",e),!1}}}}(),g=(0,a.useCallback)(e=>{let t=e.replace(/\D/g,"").slice(0,13);if(t.length<10){d({title:"Ogiltig kod",description:"Streckkoden \xe4r f\xf6r kort. F\xf6rs\xf6k igen.",variant:"destructive"});return}let s=z[t]||null,r=D[t]||[];if(s&&r.length>0){i(s),l(r);let e=Math.min(...r.map(e=>e.price+(e.shipping||0))),a=r.find(t=>t.price+(t.shipping||0)===e)?.site||"",n={id:`${t}-${Date.now()}`,product:s,prices:r,timestamp:new Date,lowestPrice:e,lowestSite:a};o(e=>[n,...e.slice(0,9)]),d({title:"Produkt hittad!",description:`${s.title} - L\xe4gst pris: ${e} SEK`,className:"bg-green-50 border-green-200"})}else d({title:"Produkt ej hittad",description:`Kod: ${t}. Produkten finns inte i databasen.`,variant:"destructive"})},[d]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(_,{}),(0,r.jsx)(E,{}),(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:[(0,r.jsx)("header",{className:"sticky top-0 z-40 bg-white/90 backdrop-blur-sm border-b shadow-sm safe-area-top",children:(0,r.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:(0,r.jsx)(T.Z,{className:"w-6 h-6 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Prisj\xe4mf\xf6relse Scanner"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Scanna & j\xe4mf\xf6r priser snabbt"}),p&&(0,r.jsx)(x.C,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Installerad"})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs ${h?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[h?(0,r.jsx)(Z.Z,{className:"w-3 h-3"}):(0,r.jsx)(A.Z,{className:"w-3 h-3"}),(0,r.jsx)("span",{children:h?"Online":"Offline"})]}),c.length>0&&(0,r.jsxs)(x.C,{variant:"outline",className:"bg-purple-50",children:[c.length," scannade"]})]})]})})}),(0,r.jsxs)("main",{className:"max-w-4xl mx-auto px-4 py-6 space-y-6",children:[!s&&!e&&(0,r.jsx)(u.Zb,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white border-0",children:(0,r.jsx)(u.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"text-center space-y-4",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto",children:(0,r.jsx)(T.Z,{className:"w-8 h-8"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"V\xe4lkommen till Prisj\xe4mf\xf6relse Scanner"}),(0,r.jsx)("p",{className:"text-blue-100 mb-4",children:"Scanna ISBN-koder p\xe5 b\xf6cker eller UPC-koder p\xe5 LP-skivor f\xf6r att snabbt j\xe4mf\xf6ra priser fr\xe5n flera sajter."})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[(0,r.jsxs)("div",{className:"bg-white/10 rounded-lg p-4",children:[(0,r.jsx)(L.Z,{className:"w-6 h-6 mx-auto mb-2"}),(0,r.jsx)("h3",{className:"font-semibold mb-1",children:"Snabb Scanning"}),(0,r.jsx)("p",{className:"text-sm text-blue-100",children:"Scanna flera produkter i rad"})]}),(0,r.jsxs)("div",{className:"bg-white/10 rounded-lg p-4",children:[(0,r.jsx)(O.Z,{className:"w-6 h-6 mx-auto mb-2"}),(0,r.jsx)("h3",{className:"font-semibold mb-1",children:"B\xe4sta Priset"}),(0,r.jsx)("p",{className:"text-sm text-blue-100",children:"Hitta l\xe4gsta pris automatiskt"})]}),(0,r.jsxs)("div",{className:"bg-white/10 rounded-lg p-4",children:[(0,r.jsx)(T.Z,{className:"w-6 h-6 mx-auto mb-2"}),(0,r.jsx)("h3",{className:"font-semibold mb-1",children:"Flera Sajter"}),(0,r.jsx)("p",{className:"text-sm text-blue-100",children:"Bokus, Adlibris, Discogs m.fl."})]})]})]})})}),(0,r.jsx)(m,{onScan:g,isActive:e,onToggle:()=>t(!e)}),(0,r.jsx)(j,{product:s,prices:n,onNewScan:()=>{i(null),l([]),t(!0)}}),(0,r.jsx)(w,{history:c,onClearHistory:()=>{o([]),d({title:"Historik rensad",description:"All scanningshistorik har tagits bort."})},onRescanProduct:e=>{let s=D[e.isbn]||[];s.length>0&&(i(e),l(s),t(!1))}})]})]})]})}},1335:function(e,t,s){"use strict";s.d(t,{C:function(){return l}});var r=s(5444);s(9300);var a=s(2371),i=s(5522);let n=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,...s}){return(0,r.jsx)("div",{className:(0,i.cn)(n({variant:t}),e),...s})}},2422:function(e,t,s){"use strict";s.d(t,{z:function(){return o}});var r=s(5444),a=s(9300),i=s(223),n=s(2371),l=s(5522);let c=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef(({className:e,variant:t,size:s,asChild:a=!1,...n},o)=>{let d=a?i.g7:"button";return(0,r.jsx)(d,{className:(0,l.cn)(c({variant:t,size:s,className:e})),ref:o,...n})});o.displayName="Button"},9827:function(e,t,s){"use strict";s.d(t,{Ol:function(){return l},Zb:function(){return n},aY:function(){return o},ll:function(){return c}});var r=s(5444),a=s(9300),i=s(5522);let n=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));n.displayName="Card";let l=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let c=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("h3",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));c.displayName="CardTitle",a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("p",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let o=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,i.cn)("p-6 pt-0",e),...t}));o.displayName="CardContent",a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},5854:function(e,t,s){"use strict";s.d(t,{pm:function(){return u}});var r=s(9300);let a=0,i=new Map,n=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?n(s):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},c=[],o={toasts:[]};function d(e){o=l(o,e),c.forEach(e=>{e(o)})}function m({...e}){let t=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>d({type:"DISMISS_TOAST",toastId:t});return d({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function u(){let[e,t]=r.useState(o);return r.useEffect(()=>(c.push(t),()=>{let e=c.indexOf(t);e>-1&&c.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},5522:function(e,t,s){"use strict";s.d(t,{cn:function(){return i}});var r=s(2191),a=s(3607);function i(...e){return(0,a.m6)((0,r.W)(e))}}},function(e){e.O(0,[162,520,386,156,744],function(){return e(e.s=8819)}),_N_E=e.O()}]);